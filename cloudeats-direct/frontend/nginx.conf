server {
    listen 80;
    server_name _;

    root /usr/share/nginx/html;
    index index.html;

    location /static/ {
        try_files $uri $uri/ =404;
    }

    location / {
        try_files $uri /index.html;
    }

    # Correct service ports
    location /api/inventory/ {
        proxy_pass http://inventory-service:3002/;
    }

    location /api/orders/ {
        proxy_pass http://order-service:3004/;
    }

    location /api/fleet/ {
        proxy_pass http://fleet-service:3001/;
    }

    location /api/notification/ {
        proxy_pass http://notification-service:3003/;
    }

    location /api/payment/ {
        proxy_pass http://payment-service:3005/;
    }
}
